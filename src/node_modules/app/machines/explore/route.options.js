import {actions, assign} from 'xstate';

const {log} = actions;

const storeDataset = (ctx, {project, source, version}) => {
	ctx.dataset.set({project, source, version});
	return ctx;
}

export const routeOptions = {
	actions: {
		logEvent: log(
			(context, event) => `event: ${JSON.stringify(event)}, context: ${JSON.stringify(context)}`,
			'logEvent'
		),
		storeDataset: assign(storeDataset),
	},
	guards: {}
};
