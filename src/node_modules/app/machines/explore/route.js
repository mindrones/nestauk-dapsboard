import {createMachina} from '../utils';

import {historyOptions} from './history.options';
import {exploreConfig} from './route.config';
import {routeOptions} from './route.options';
import {createRouteStores} from './route.context';
import {createSelectionStores} from './selecting.context';
import {selectingOptions} from './selecting.options';

export const exploreOptions = {
	actions: {
		...historyOptions.actions,
		...routeOptions.actions,
		...selectingOptions.actions,
	},
	guards: {
		...historyOptions.guards,
		...routeOptions.guards,
		...selectingOptions.guards,
	}
};

export const context = {
	...createSelectionStores(),
	...createRouteStores(),
};

export const createExploreMachine = () => createMachina(
	exploreConfig,
	exploreOptions,
	context
);
